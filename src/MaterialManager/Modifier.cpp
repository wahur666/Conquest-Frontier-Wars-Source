//----------------------------------------------------------------------------------------------
//
// Material.cpp 
//
//----------------------------------------------------------------------------------------------

#include "stdafx.h"
#include <IMaterialManager.h>
#include "Material.h"
#include "InternalMaterialManager.h"
#include "Modifier.h"

/////////////////////////////////////////////////////////////////////////////////////////////
//
void Modifier::SetNextModifier(IModifier * other)
{
	next = (Modifier *)(other);
}

/////////////////////////////////////////////////////////////////////////////////////////////
//
IModifier * Modifier::GetNextModifier()
{
	return next;
}
/////////////////////////////////////////////////////////////////////////////////////////////
//

IMaterial * Modifier::GetMaterial()
{
	return material;
}

/////////////////////////////////////////////////////////////////////////////////////////////
//
void Modifier::Release()
{
	refCount--;
	if(refCount == 0)
	{
		owner->DeleteModifier(this);
	}
}

/////////////////////////////////////////////////////////////////////////////////////////////
//
void Modifier::AddRef()
{
	++refCount;
}

/////////////////////////////////////////////////////////////////////////////////////////////
//
Modifier::Modifier(struct IInternalMaterialManager * _owner)
{
	owner = _owner;
	next = NULL;
	material = NULL;

	refCount = 1;
}

/////////////////////////////////////////////////////////////////////////////////////////////
//
Modifier::~Modifier()
{
	if(next)
		next->Release();
}




/////////////////////////////////////////////////////////////////////////////////////////////
//

